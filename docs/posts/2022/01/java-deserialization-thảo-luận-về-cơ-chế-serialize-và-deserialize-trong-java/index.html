<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="map[name:Quac Tran]">
<meta name="description" content="Lỗ hổng bảo mật liên quan đến Java Deserialization (Deser) là khó đối với tôi. Tôi đã mất nhiều thời gian để tìm hiểu nó. Và tôi không dừng lại. Tôi muốn tìm hiểu những thứ mới và tìm hiểu sâu hơn về nó. Bài viết đầu tiên này tôi sẽ giải thích cơ chế Serialize và Deserialize trong Java. Cũng chỉ như những gì tôi ghi chép lại cho việc mình đã học." />
<meta name="keywords" content=", infosec, java" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://tranquac.github.io/posts/2022/01/java-deserialization-th%E1%BA%A3o-lu%E1%BA%ADn-v%E1%BB%81-c%C6%A1-ch%E1%BA%BF-serialize-v%C3%A0-deserialize-trong-java/" />


    <title>
        
            [Java Deserialization] Thảo luận về cơ chế Serialize và Deserialize trong Java :: quac tran 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="https://tranquac.github.io/main.672db4689dc5642de5414c42e1e25cf5fadb60282ca8397433c5ee14fe43dd91.css">



    <link rel="apple-touch-icon" sizes="180x180" href="https://tranquac.github.io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://tranquac.github.io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://tranquac.github.io/favicon-16x16.png">
    <link rel="manifest" href="https://tranquac.github.io/site.webmanifest">
    <link rel="mask-icon" href="https://tranquac.github.io/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="https://tranquac.github.io/favicon.ico">
    <meta name="msapplication-TileColor" content="">
    <meta name="theme-color" content="">



<meta itemprop="name" content="[Java Deserialization] Thảo luận về cơ chế Serialize và Deserialize trong Java">
<meta itemprop="description" content="Lỗ hổng bảo mật liên quan đến Java Deserialization (Deser) là khó đối với tôi. Tôi đã mất nhiều thời gian để tìm hiểu nó. Và tôi không dừng lại. Tôi muốn tìm hiểu những thứ mới và tìm hiểu sâu hơn về nó. Bài viết đầu tiên này tôi sẽ giải thích cơ chế Serialize và Deserialize trong Java. Cũng chỉ như những gì tôi ghi chép lại cho việc mình đã học."><meta itemprop="datePublished" content="2022-01-18T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2022-01-18T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="2765"><meta itemprop="image" content="https://raw.githubusercontent.com/tranquac/Blog_Image/master/avatar/Kali.png"/>
<meta itemprop="keywords" content="infosec,java," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://raw.githubusercontent.com/tranquac/Blog_Image/master/avatar/Kali.png"/>

<meta name="twitter:title" content="[Java Deserialization] Thảo luận về cơ chế Serialize và Deserialize trong Java"/>
<meta name="twitter:description" content="Lỗ hổng bảo mật liên quan đến Java Deserialization (Deser) là khó đối với tôi. Tôi đã mất nhiều thời gian để tìm hiểu nó. Và tôi không dừng lại. Tôi muốn tìm hiểu những thứ mới và tìm hiểu sâu hơn về nó. Bài viết đầu tiên này tôi sẽ giải thích cơ chế Serialize và Deserialize trong Java. Cũng chỉ như những gì tôi ghi chép lại cho việc mình đã học."/>




    <meta property="og:title" content="[Java Deserialization] Thảo luận về cơ chế Serialize và Deserialize trong Java" />
<meta property="og:description" content="Lỗ hổng bảo mật liên quan đến Java Deserialization (Deser) là khó đối với tôi. Tôi đã mất nhiều thời gian để tìm hiểu nó. Và tôi không dừng lại. Tôi muốn tìm hiểu những thứ mới và tìm hiểu sâu hơn về nó. Bài viết đầu tiên này tôi sẽ giải thích cơ chế Serialize và Deserialize trong Java. Cũng chỉ như những gì tôi ghi chép lại cho việc mình đã học." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://tranquac.github.io/posts/2022/01/java-deserialization-th%E1%BA%A3o-lu%E1%BA%ADn-v%E1%BB%81-c%C6%A1-ch%E1%BA%BF-serialize-v%C3%A0-deserialize-trong-java/" /><meta property="og:image" content="https://raw.githubusercontent.com/tranquac/Blog_Image/master/avatar/Kali.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-01-18T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2022-01-18T00:00:00&#43;00:00" />






    <meta property="article:section" content="infosec" />

    <meta property="article:section" content="java" />



    <meta property="article:published_time" content="2022-01-18 00:00:00 &#43;0000 UTC" />










    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="https://tranquac.github.io/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">&gt;</span>
            <span class="logo__text">Security ramblings</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://tranquac.github.io/about/">about</a></li><li><a href="https://tranquac.github.io/posts/">posts</a></li><li><a href="https://tranquac.github.io/write-up/">write-up</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
                <span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
   <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
   3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
   13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
 </svg></span>
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        13 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://tranquac.github.io/posts/2022/01/java-deserialization-th%E1%BA%A3o-lu%E1%BA%ADn-v%E1%BB%81-c%C6%A1-ch%E1%BA%BF-serialize-v%C3%A0-deserialize-trong-java/">[Java Deserialization] Thảo luận về cơ chế Serialize và Deserialize trong Java</a>
      </h1>

      

      

      

      <div class="post-content">
        <p>Lỗ hổng bảo mật liên quan đến Java Deserialization (Deser) là khó đối với tôi. Tôi đã mất nhiều thời gian để tìm hiểu nó. Và tôi không dừng lại. Tôi muốn tìm hiểu những thứ mới và tìm hiểu sâu hơn về nó. Bài viết đầu tiên này tôi sẽ giải thích cơ chế Serialize và Deserialize trong Java. Cũng chỉ như những gì tôi ghi chép lại cho việc mình đã học.</p>
<p>Tôi thật sự ngưỡng mộ một số anh chị đi trước đã có những nghiên cứu sâu về lỗ hổng này cũng như có rất nhiều CVE phức tạp liên quan tới nó: Anh Jangg, chị Quỳnh Lê.</p>
<h3 id="serialization-là-gì">Serialization là gì?</h3>
<p>Java cung cấp cơ chế serialize đối tượng: một đối tượng có thể được biểu diễn dưới dạng một chuỗi byte bao gồm dữ liệu của đối tượng, thông tin về kiểu của đối tượng và kiểu dữ liệu được lưu trữ trong đối tượng. Sau khi đối tượng được serialize được ghi vào file, nó có thể được đọc từ file và được giải mã, nghĩa là thông tin kiểu của đối tượng, dữ liệu của đối tượng và kiểu dữ liệu trong đối tượng có thể được sử dụng để tái tạo lại đối tượng đó. Toàn bộ quá trình này là độc lập với JVM, nghĩa là một đối tượng được serialize trên một nền tảng có thể được deserialize trên một nền tảng hoàn toàn khác.</p>
<p>Serialization: Quá trình chuyển đổi một đối tượng thành một chuỗi các byte.</p>
<p>Deserialization: Quá trình khôi phục một chuỗi byte thành một đối tượng.</p>
<h3 id="serialize-được-tạo-ra-để-làm-gi">Serialize được tạo ra để làm gi?</h3>
<ul>
<li>Nó có thể giải quyết vấn đề sự khác biệt giữa các nền tảng. Ví dụ: sau khi serialize một đối tượng được tạo trên Windows và chuyển nó sang Linux thông qua mạng, đối tượng có thể được giải mã trực tiếp để lấy đối tượng mà không cần lo lắng về việc biểu diễn dữ liệu trên các máy và hệ thống khác nhau.</li>
<li>RMI cần thiết cho các cuộc gọi phương thức từ xa. RMI làm cho các đối tượng tồn tại trên các host khác được sử dụng giống như các đối tượng trên host hiện tại, khi gửi thông tin đến các đối tượng ở xa, cần truyền các tham số và trả về giá trị thông qua serialize đối tượng.</li>
<li>Bắt buộc đối với Java Bean. Khi sử dụng Bean, thông tin trạng thái của nó thường được cấu hình trong giai đoạn thiết kế, những thông tin trạng thái này cần được lưu và khôi phục sau đó khi chương trình khởi động, được thực hiện bởi cơ chế deserialization.</li>
<li>Thuận tiện để lưu thông tin đối tượng để có thể sử dụng trực tiếp khi JVM được bắt đầu vào lần sau.</li>
</ul>
<h3 id="điều-kiện-để-serialize">Điều kiện để serialize?</h3>
<p>Để một đối tượng lớp được tuần tự hóa, hai điều kiện phải được đáp ứng:</p>
<ul>
<li>Class đó phải implements java.io.Serializable.</li>
<li>Tất cả các thuộc tính của class phải được serialize. Nếu một thuộc tính không thể serialize, thì thuộc tính đó phải được đánh dấu là transient</li>
</ul>
<h3 id="làm-thế-nào-để-serialize">Làm thế nào để serialize?</h3>
<p>Để Serialize một đối tượng, trước tiên tạo một đối tượng OutputStream, đóng gói nó trong một đối tượng ObjectOutputStream, sau đó chỉ cần gọi writeObject() để serialize đối tượng và gửi nó đến OutputStream (Objects are byte based, so use InputStream and OutputStream to inherit the hierarchy).</p>
<p>Để deserialize một đối tượng, cần đóng gói InputStream trong ObjectInputStream, rồi gọi readObject()</p>
<p><strong>ObjectInputStream / ObjectOutputStream</strong></p>
<p>Các class ObjectInputStream và ObjectOutputStream là high-level data streams có chứa các phương thức (method) deserialize và serialize các đối tượng.</p>
<p>Lớp ObjectOutputStream chứa nhiều phương thức để ghi các kiểu dữ liệu khác nhau, được sử dụng để serialize một đối tượng và gửi nó đến output stream:</p>
<p><code>public final void writeObject(Object x) throws IOException</code></p>
<p>Tương tự như vậy, class ObjectInputStream chứa một phương thức readObject() để deserialize một đối tượng, được sử dụng để lấy đối tượng từ input stream và deserialize đối tượng, giá trị trả về của nó là Object, vì vậy nó cần được chuyển đổi sang kiểu dữ liệu thích hợp:</p>
<p><code>public final Object readObject() throws IOException, ClassNotFoundException</code></p>
<h3 id="demo">Demo</h3>
<p>Class User implements Serializable, trong đó trường address đặt từ khóa <strong>transient</strong>:</p>
<pre><code>import java.io.Serializable;
public class User implements Serializable {
    public String name;
    public transient String address;
    public int number;
    public void info(){
        System.out.println(&quot;Name: &quot; + name + &quot;\nAddress: &quot; + address + &quot;\nNumber: &quot; + number);
    }
}
</code></pre><p>Một class khác thực hiện việc serialize:</p>
<pre><code>import java.io.FileOutputStream;
import java.io.IOException;
import java.io.ObjectOutputStream;

public class test {
    public static void serialize_test(){
        User user = new User();
        user.name = &quot;tranquac&quot;;
        user.address = &quot;VietNam&quot;;
        user.number = 2711;
        user.info();
        try {
            FileOutputStream fos = new FileOutputStream(&quot;user.ser&quot;);
            ObjectOutputStream obs = new ObjectOutputStream(fos);
            obs.writeObject(user);
            obs.close();
            fos.close();
            System.out.println(&quot;[*]User serialized to user.ser&quot;);
        } catch (IOException e){
            e.printStackTrace();
        }
    }

    public static void main(String[] args) {
        serialize_test();
    }
}

</code></pre><p>Sau khi chạy, kiểm tra kết quả, gán thành công đối tượng User và lưu nó vào tệp đích:</p>
<p><img src="https://raw.githubusercontent.com/tranquac/Blog_Image/master/introduce-java-deser/1.jpg" alt=""></p>
<p>Xem file user.ser dưới dạng Hex</p>
<p><img src="https://raw.githubusercontent.com/tranquac/Blog_Image/master/introduce-java-deser/2.jpg" alt=""></p>
<p>Thêm chức năng deserialization vào test.class:</p>
<pre><code>import java.io.*;

public class test {
    public static void serialize_test(){
        User user = new User();
        user.name = &quot;tranquac&quot;;
        user.address = &quot;VietNam&quot;;
        user.number = 2711;
        user.info();
        try {
            FileOutputStream fos = new FileOutputStream(&quot;user.ser&quot;);
            ObjectOutputStream obs = new ObjectOutputStream(fos);
            obs.writeObject(user);
            obs.close();
            fos.close();
            System.out.println(&quot;[*]User serialized to user.ser&quot;);
        } catch (IOException e){
            e.printStackTrace();
        }
    }

    public static void deserialize_test(){
        User user = null;
        try {
            FileInputStream fis = new FileInputStream(&quot;user.ser&quot;);
            ObjectInputStream ois = new ObjectInputStream(fis);
            user = (User)ois.readObject();
            ois.close();
            fis.close();
        } catch (IOException e){
            e.printStackTrace();
        } catch (ClassNotFoundException e){
            e.printStackTrace();
        }
        System.out.println(&quot;[*]User.ser deserialized：&quot;);
        user.info();
    }

    public static void main(String[] args) {
        //serialize_test();
        deserialize_test();
    }
}

</code></pre><p>Ta có khối try/catch trong phương thức readObject () cố gắng bắt ngoại lệ ClassNotFoundException. Để JVM có thể deserialize một đối tượng, nó phải là một class mà mã bytecode có thể được tìm thấy. Nếu JVM không thể tìm thấy trong quá trình deserialize đối tượng, thì một ClassNotFoundException sẽ được throw ra.</p>
<p><img src="https://raw.githubusercontent.com/tranquac/Blog_Image/master/introduce-java-deser/3.jpg" alt=""></p>
<p>Có thể thấy rằng đối tượng được deserialize, ngoại trừ thuộc tính Address, các giá trị thuộc tính khác đều được deserialize thành công để có được đối tượng gần giống như trước khi Serialize. Thuộc tính Address ở đây là do từ khóa transient được thiết lập. Nguyên tắc cụ thể sẽ được giải thích bên dưới.</p>
<h3 id="serialversionuid">serialVersionUID</h3>
<p>serialVersionUID là số phiên bản được serialize, phù hợp với cơ chế serialize của Java. Nói một cách đơn giản, cơ chế serialize của Java xác minh tính nhất quán của phiên bản bằng cách đánh giá serialVersionUID. Khi deserialize, JVM sẽ so sánh serialVersionUID trong incoming byte stream với serialVersionUID của lớp thực thể tương ứng . Nếu chúng giống nhau, chúng được coi là nhất quán và có thể được deserialize. Nếu không, một phiên bản được serialize sẽ xuất hiện. Exception không nhất quán là InvalidCastException.</p>
<p><strong>serialVersionUID được tạo theo hai cách:</strong></p>
<p>Một là 1L mặc định, ví dụ:</p>
<p><code>private static final long serialVersionUID = 1L;</code></p>
<p>Thứ hai là tạo trường băm 64 bit dựa trên tên class, tên interface, các method thành phần và thuộc tính, ví dụ:</p>
<p><code>private static final long serialVersionUID = xxxxL;</code></p>
<p><strong>Việc xác định rõ ràng serialVersionUID phục vụ hai mục đích:</strong></p>
<ul>
<li>In some cases, different versions of a class are expected to be compatible with serialization, so it is necessary to ensure that different versions of a class have the same serialVersionUID;</li>
<li>In some cases, you do not want different versions of a class to be serializable, so you need to ensure that different versions of a class have different serialVersionUIDs.<br>
(Này do mình thấy để tiếng anh đọc dễ hiểu hơn)</li>
</ul>
<h3 id="kiểm-soát-việc-serialize">kiểm soát việc serialize</h3>
<p>Trong một số trường hợp, chúng ta có thể cần kiểm soát quá trình serialize, chẳng hạn như phần nào không cần được deserialize, v.v. Trong trường hợp này, Serializable interface có thể được thay thế bằng  Externalizable interface để thực hiện việc kiểm soát quy trình serialize.</p>
<p><strong>Externalizable</strong></p>
<p>Externalizable interface kế thừa Serializable interface và thêm hai phương thức: writeExternal () và readExternal (), sẽ tự động được gọi trong quá trình serialize và deserialize, để thực hiện một số thao tác đặc biệt nhằm đạt được kiểm soát quy trình.</p>
<p><strong>Từ khoá transient</strong></p>
<p>Khi chúng ta thực hiện serialize, có thể có một số đối tượng con đặc biệt mà ta không muốn tự động lưu và khôi phục. Ví dụ, các đối tượng con đại diện cho thông tin nhạy cảm. Mặc dù thông tin trong đối tượng là thuộc tính riêng tư, nhưng sau khi serialize, mọi người có thể lấy thông tin một cách bất hợp pháp bằng cách đọc tệp hoặc chặn gói dữ liệu.</p>
<p>Lúc này ta có thể sử dụng từ khoá transient để ngăn không cho thuộc tính đó được serialize giống như ví dụ ban đầu.</p>
<p><strong>Tự mình thực hiện Serializable</strong></p>
<p>Nếu bạn không muốn lắm để sử dụng các method serialize và deserialize có sẵn, bạn cũng có thể tự implements Serializable interface và thêm các phương thức writeObject() và readObject() vào class của mình, các phương thức này sẽ tự động được gọi sau khi đối tượng được serialize và deserialize. Điều đáng chú ý là chúng ta đang nói về &ldquo;thêm&rdquo; chứ không phải &ldquo;ghi đè&rdquo;, nghĩa là miễn là chúng ta cung cấp hai phương thức này, chương trình sẽ sử dụng hai phương thức này thay vì cơ chế Serialize mặc định.</p>
<p><code>private void writeObject(ObjectOutputStream stream) throws IOException</code></p>
<p><code>private void readObject(ObjectInputStream stream) throws IOException, ClassNotFoundException</code></p>
<p>Lưu ý rằng các phương thức này được định nghĩa là private.</p>
<p>Khi gọi ObjectOutputStream.writeObject (), đối tượng Serializable được truyền vào sẽ được kiểm tra để xem liệu writeObject() của chính nó có được implements hay không. Nếu nó được implements, quá trình Serialize thông thường sẽ skip và writeObject() đã được implements của chính nó sẽ được gọi. Nó cũng tương tự đối với phương thức readObject()</p>
<h3 id="serialized-binary-format">serialized binary format</h3>
<p><img src="https://raw.githubusercontent.com/tranquac/Blog_Image/master/introduce-java-deser/4.jpg" alt=""></p>
<pre><code>- AC ED: STREAM_MAGIC, nói lên giao thức serialize được sử dụng, từ đó bạn có thể xác định xem nội dung đã lưu có phải là dữ liệu serialize hay không.
- 00 05: STREAM_VERSION, phiên bản giao thức serialize.
- 0x73: TC_OBJECT, nói lên rằng đây là một đối tượng mới.
- 0x72: TC_CLASSDESC, nói lên rằng một lớp mới bắt đầu ở đây.
- 00 04: Độ dài của tên class, trong đó tên Class là User và độ dài là 4.
- 55 73 65 72: Tên class User.
- 64 D4 C4 D2 26 CA C4 8D: SerialVersionUID, ID được serialize, nếu không được chỉ định, một ID 8byte sẽ được tạo ngẫu nhiên bởi thuật toán.
- 0x02: khai báo rằng đối tượng hỗ trợ Serialize.
- 00 02: Số variables có trong lớp này.
- 0x49: Loại trường, 49 là viết tắt của &quot;I&quot;, là Int.
- 00 06: Độ dài của tên biến, tên miền là number và độ dài là 6.
- 6E 75 6D 62 65 72: Mô tả tên biến, đây là number.
- 0x4C: Loại trường, 4C là viết tắt của String.
- 00 04: Độ dài của tên biến, tên biến là name và độ dài là 4.
- 6E 61 6D 65: Mô tả tên biến, đây là name.
- 0x74: TC_STRING, đại diện cho một string mới, sử dụng string để tham chiếu đến đối tượng.
- 00 12: Độ dài của string, trong đó string là &quot;Ljava / lang / String;&quot; và độ dài là 0x12.
- 4C 6A 61 76 61 2F 6C 61 6E 67 2F 53 74 72 69 6E 67 3B: Ký hiệu chữ ký đối tượng tiêu chuẩn của JVM, ở đây đề cập đến string là &quot;Ljava / lang / String;&quot;.
- 0x78: TC_ENDBLOCKDATA, dấu của phần cuối của khối dữ liệu đối tượng.
- 0x70: TC_NULL, kết thúc “class description”
- 0x74: TC_STRING, đại diện cho một String mới, sử dụng String để tham chiếu đến đối tượng.
- 00 08: length của String tranquac và độ dài là 8.
- 74 72 61 6E 71 75 61 63: Mô tả tên biến, đây là &quot;tranquac&quot;.
</code></pre><h3 id="nối-tiếp-việc-tự-thực-hiện-serialize">Nối tiếp việc tự thực hiện serialize</h3>
<p>Như đã đề cập trong phần triển khai Serializable trong tự mình thực hiện serialize ở trên, ta có thể thêm hai phương thức, writeObject() và readObject(), không thuộc về bất kỳ class hoặc interface nào, miễn là hai phương thức này được cung cấp trong lớp được Serialize. , nó sẽ tự động được gọi trong cơ chế Serialize.</p>
<p>Ưu điểm của triển khai tùy chỉnh là người lập trình có thể tinh chỉnh hơn hoặc tùy chỉnh việc Serialize mà họ muốn thực hiện, chẳng hạn như đảo ngược các giá trị biến name và address trong ví dụ sau. Sử dụng tính năng này, một số thông tin nhạy cảm có thể được xử lý đặc biệt trong quá trình Serialize.</p>
<p>User.class: hai phương thức writeObject() và readObject(), với từ khóa private được thêm vào:</p>
<pre><code>import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.io.Serializable;

public class User implements Serializable {
    public String name;
    public String address;
    public int number;

    private void writeObject(ObjectOutputStream out) throws IOException {
        System.out.println(&quot;[*]Write Object.&quot;);
        out.writeObject(new StringBuffer(name));
        out.writeObject(new StringBuffer(address));
        out.writeInt(number);
    }

    private void readObject(ObjectInputStream in) throws IOException, ClassNotFoundException {
        System.out.println(&quot;[*]Read Object.&quot;);
        this.name = ((StringBuffer)in.readObject()).reverse().toString();
        this.address = ((StringBuffer)in.readObject()).reverse().toString();
        this.number = in.readInt();
    }
}

</code></pre><p>test.class</p>
<pre><code>import java.io.*;

public class test {
    public static void serialize_test(){
        User user = new User();
        user.name = &quot;tranquac&quot;;
        user.address = &quot;vietnam&quot;;
        user.number = 2711;
        try {
            FileOutputStream fos = new FileOutputStream(&quot;user.ser&quot;);
            ObjectOutputStream obs = new ObjectOutputStream(fos);
            obs.writeObject(user);
            obs.close();
            fos.close();
            System.out.println(&quot;[*]User serialized to user.ser&quot;);
        } catch (IOException e){
            e.printStackTrace();
        }
    }

    public static void unserialize_test(){
        User user = null;
        try {
            FileInputStream fis = new FileInputStream(&quot;user.ser&quot;);
            ObjectInputStream ois = new ObjectInputStream(fis);
            user = (User)ois.readObject();
            ois.close();
            fis.close();
        } catch (IOException e){
            e.printStackTrace();
        } catch (ClassNotFoundException e){
            e.printStackTrace();
        }
        System.out.println(&quot;Name: &quot; + user.name + &quot;\nAddress: &quot; + user.address + &quot;\nNumber: &quot; + user.number);
    }

    public static void main(String[] args) {
        serialize_test();
        unserialize_test();
    }
}

</code></pre><p>Chạy và xem, thực sự là thông qua hai phương thức writeObject() và readObject() do chính tôi viết để nhận được các hoạt động serialize và deserialize mà tôi mong muốn:</p>
<p><img src="https://raw.githubusercontent.com/tranquac/Blog_Image/master/introduce-java-deser/5.jpg" alt=""></p>
<p>Name và Address được đảo ngược là do đã thực hiện deserialize với readObject() mà tôi thêm trong class User.</p>
<p><strong>What’s more?</strong></p>
<p>Lỗ hổng Java deserialization thường nằm trong code logic của phương thức readObject() được implement tùy chỉnh, có thể kích hoạt lỗ hổng deserialization. Trên thực tế, điều này tương tự như nguyên tắc của lỗ hổng deserialize trong PHP. PHP là một magic method, nếu có code bị lỗi, có thể có nguy cơ dẫn tới lỗ hổng deserialization, tương tự như hàm readObject () được thực hiện bởi tùy chỉnh trong Java. Ví dụ sau đây chỉ thêm Runtime.getRuntime().Execute() trong câu lệnh if từ ví dụ trước:</p>
<pre><code>import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.io.Serializable;

public class User implements Serializable {
    public String name;
    public String address;
    public int number;

    private void writeObject(ObjectOutputStream out) throws IOException {
        System.out.println(&quot;[*]Write Object.&quot;);
        out.writeObject(new StringBuffer(name).reverse());
        out.writeObject(new StringBuffer(address).reverse());
        out.writeInt(number);
    }

    private void readObject(ObjectInputStream in) throws IOException, ClassNotFoundException {
        System.out.println(&quot;[*]Read Object.&quot;);
        this.name = ((StringBuffer)in.readObject()).reverse().toString();
        this.address = ((StringBuffer)in.readObject()).reverse().toString();
        this.number = in.readInt();
   //Lỗ hổng ở đây
        if (this.number == 2711){
            Runtime.getRuntime().exec(name);
        }
    }
}

</code></pre><p>test.class</p>
<pre><code>import java.io.*;

public class test {
    public static void serialize_test(){
        User user = new User();
        //thay trường name thành &quot;calc&quot;(lệnh bật calculator trên windows)
        user.name = &quot;calc.exe&quot;;
        user.address = &quot;England&quot;;
        //thoả mãn if
        user.number = 2711;
        try {
            FileOutputStream fos = new FileOutputStream(&quot;user.ser&quot;);
            ObjectOutputStream obs = new ObjectOutputStream(fos);
            obs.writeObject(user);
            obs.close();
            fos.close();
            System.out.println(&quot;[*]User serialized to user.ser&quot;);
        } catch (IOException e){
            e.printStackTrace();
        }
    }

    public static void unserialize_test(){
        User user = null;
        try {
            FileInputStream fis = new FileInputStream(&quot;user.ser&quot;);
            ObjectInputStream ois = new ObjectInputStream(fis);
            user = (User)ois.readObject();
            ois.close();
            fis.close();
        } catch (IOException e){
            e.printStackTrace();
        } catch (ClassNotFoundException e){
            e.printStackTrace();
        }
        System.out.println(&quot;Name: &quot; + user.name + &quot;\nAddress: &quot; + user.address + &quot;\nNumber: &quot; + user.number);
    }

    public static void main(String[] args) {
        serialize_test();
        unserialize_test();
    }
}

</code></pre><p><img src="https://raw.githubusercontent.com/tranquac/Blog_Image/master/introduce-java-deser/6.jpg" alt=""></p>
<p>Thử hình dung nếu kẻ tấn công biết được logic trong source code và tuỳ chỉnh được đầu vào của readObject() method. Như ở đây là file User.ser. Thì kẻ tấn công hoàn toàn có thể thao túng và tạo nên một input độc hại để khai thác ứng dụng.
Cảm ơn các bạn đã đọc tới đây.</p>

      </div>
    </article>

    <hr />

    <div class="post-info">
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://tranquac.github.io/tags/infosec/">infosec</a></span>
        <span class="tag"><a href="https://tranquac.github.io/tags/java/">java</a></span>
        
    </p>

      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>

        <span class="tag"><a href="https://tranquac.github.io/categories/infosec/">infosec</a></span>
        <span class="tag"><a href="https://tranquac.github.io/categories/java/">java</a></span>
        
    </p>


      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        2765 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          18181-01-18 07:00
        

         
          
        
      </p>
    </div>
      <hr />
      <div class="sharing-buttons">
        
<a class="resp-sharing-button__link" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2ftranquac.github.io%2fposts%2f2022%2f01%2fjava-deserialization-th%25E1%25BA%25A3o-lu%25E1%25BA%25ADn-v%25E1%25BB%2581-c%25C6%25A1-ch%25E1%25BA%25BF-serialize-v%25C3%25A0-deserialize-trong-java%2f" target="_blank" rel="noopener" aria-label="" title="Share on facebook">
  <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://twitter.com/intent/tweet/?url=https%3a%2f%2ftranquac.github.io%2fposts%2f2022%2f01%2fjava-deserialization-th%25E1%25BA%25A3o-lu%25E1%25BA%25ADn-v%25E1%25BB%2581-c%25C6%25A1-ch%25E1%25BA%25BF-serialize-v%25C3%25A0-deserialize-trong-java%2f" target="_blank" rel="noopener" aria-label="" title="Share on twitter">
  <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small">
      <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://www.tumblr.com/widgets/share/tool?posttype=link&amp;title=%5bJava%20Deserialization%5d%20Th%e1%ba%a3o%20lu%e1%ba%adn%20v%e1%bb%81%20c%c6%a1%20ch%e1%ba%bf%20Serialize%20v%c3%a0%20Deserialize%20trong%20Java&amp;caption=%5bJava%20Deserialization%5d%20Th%e1%ba%a3o%20lu%e1%ba%adn%20v%e1%bb%81%20c%c6%a1%20ch%e1%ba%bf%20Serialize%20v%c3%a0%20Deserialize%20trong%20Java&amp;canonicalUrl=https%3a%2f%2ftranquac.github.io%2fposts%2f2022%2f01%2fjava-deserialization-th%25E1%25BA%25A3o-lu%25E1%25BA%25ADn-v%25E1%25BB%2581-c%25C6%25A1-ch%25E1%25BA%25BF-serialize-v%25C3%25A0-deserialize-trong-java%2f" target="_blank" rel="noopener" aria-label="" title="Share on tumblr">
  <div class="resp-sharing-button resp-sharing-button--tumblr resp-sharing-button--small">
    <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.563 24c-5.093 0-7.031-3.756-7.031-6.411V9.747H5.116V6.648c3.63-1.313 4.512-4.596 4.71-6.469C9.84.051 9.941 0 9.999 0h3.517v6.114h4.801v3.633h-4.82v7.47c.016 1.001.375 2.371 2.207 2.371h.09c.631-.02 1.486-.205 1.936-.419l1.156 3.425c-.436.636-2.4 1.374-4.156 1.404h-.178l.011.002z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="mailto:?subject=%5bJava%20Deserialization%5d%20Th%e1%ba%a3o%20lu%e1%ba%adn%20v%e1%bb%81%20c%c6%a1%20ch%e1%ba%bf%20Serialize%20v%c3%a0%20Deserialize%20trong%20Java&amp;body=https%3a%2f%2ftranquac.github.io%2fposts%2f2022%2f01%2fjava-deserialization-th%25E1%25BA%25A3o-lu%25E1%25BA%25ADn-v%25E1%25BB%2581-c%25C6%25A1-ch%25E1%25BA%25BF-serialize-v%25C3%25A0-deserialize-trong-java%2f" target="_self" rel="noopener" aria-label="" title="Share via email">
  <div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://pinterest.com/pin/create/button/?url=https%3a%2f%2ftranquac.github.io%2fposts%2f2022%2f01%2fjava-deserialization-th%25E1%25BA%25A3o-lu%25E1%25BA%25ADn-v%25E1%25BB%2581-c%25C6%25A1-ch%25E1%25BA%25BF-serialize-v%25C3%25A0-deserialize-trong-java%2f&amp;media=https%3a%2f%2ftranquac.github.io%2fposts%2f2022%2f01%2fjava-deserialization-th%25E1%25BA%25A3o-lu%25E1%25BA%25ADn-v%25E1%25BB%2581-c%25C6%25A1-ch%25E1%25BA%25BF-serialize-v%25C3%25A0-deserialize-trong-java%2f;description=%5bJava%20Deserialization%5d%20Th%e1%ba%a3o%20lu%e1%ba%adn%20v%e1%bb%81%20c%c6%a1%20ch%e1%ba%bf%20Serialize%20v%c3%a0%20Deserialize%20trong%20Java" target="_blank" rel="noopener" aria-label="" title="Share on pinterest">
  <div class="resp-sharing-button resp-sharing-button--pinterest resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.162-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.401.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.354-.629-2.758-1.379l-.749 2.848c-.269 1.045-1.004 2.352-1.498 3.146 1.123.345 2.306.535 3.55.535 6.607 0 11.985-5.365 11.985-11.987C23.97 5.39 18.592.026 11.985.026L12.017 0z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2ftranquac.github.io%2fposts%2f2022%2f01%2fjava-deserialization-th%25E1%25BA%25A3o-lu%25E1%25BA%25ADn-v%25E1%25BB%2581-c%25C6%25A1-ch%25E1%25BA%25BF-serialize-v%25C3%25A0-deserialize-trong-java%2f&amp;title=%5bJava%20Deserialization%5d%20Th%e1%ba%a3o%20lu%e1%ba%adn%20v%e1%bb%81%20c%c6%a1%20ch%e1%ba%bf%20Serialize%20v%c3%a0%20Deserialize%20trong%20Java&amp;summary=%5bJava%20Deserialization%5d%20Th%e1%ba%a3o%20lu%e1%ba%adn%20v%e1%bb%81%20c%c6%a1%20ch%e1%ba%bf%20Serialize%20v%c3%a0%20Deserialize%20trong%20Java&amp;source=https%3a%2f%2ftranquac.github.io%2fposts%2f2022%2f01%2fjava-deserialization-th%25E1%25BA%25A3o-lu%25E1%25BA%25ADn-v%25E1%25BB%2581-c%25C6%25A1-ch%25E1%25BA%25BF-serialize-v%25C3%25A0-deserialize-trong-java%2f" target="_blank" rel="noopener" aria-label="" title="Share on linkedin">
  <div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://reddit.com/submit/?url=https%3a%2f%2ftranquac.github.io%2fposts%2f2022%2f01%2fjava-deserialization-th%25E1%25BA%25A3o-lu%25E1%25BA%25ADn-v%25E1%25BB%2581-c%25C6%25A1-ch%25E1%25BA%25BF-serialize-v%25C3%25A0-deserialize-trong-java%2f&amp;resubmit=true&amp;title=%5bJava%20Deserialization%5d%20Th%e1%ba%a3o%20lu%e1%ba%adn%20v%e1%bb%81%20c%c6%a1%20ch%e1%ba%bf%20Serialize%20v%c3%a0%20Deserialize%20trong%20Java" target="_blank" rel="noopener" aria-label="" title="Share on reddit">
  <div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://www.xing.com/app/user?op=share;url=https%3a%2f%2ftranquac.github.io%2fposts%2f2022%2f01%2fjava-deserialization-th%25E1%25BA%25A3o-lu%25E1%25BA%25ADn-v%25E1%25BB%2581-c%25C6%25A1-ch%25E1%25BA%25BF-serialize-v%25C3%25A0-deserialize-trong-java%2f;title=%5bJava%20Deserialization%5d%20Th%e1%ba%a3o%20lu%e1%ba%adn%20v%e1%bb%81%20c%c6%a1%20ch%e1%ba%bf%20Serialize%20v%c3%a0%20Deserialize%20trong%20Java" target="_blank" rel="noopener" aria-label="" title="Share on xing">
  <div class="resp-sharing-button resp-sharing-button--xing resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M18.188 0c-.517 0-.741.325-.927.66 0 0-7.455 13.224-7.702 13.657.015.024 4.919 9.023 4.919 9.023.17.308.436.66.967.66h3.454c.211 0 .375-.078.463-.22.089-.151.089-.346-.009-.536l-4.879-8.916c-.004-.006-.004-.016 0-.022L22.139.756c.095-.191.097-.387.006-.535C22.056.078 21.894 0 21.686 0h-3.498zM3.648 4.74c-.211 0-.385.074-.473.216-.09.149-.078.339.02.531l2.34 4.05c.004.01.004.016 0 .021L1.86 16.051c-.099.188-.093.381 0 .529.085.142.239.234.45.234h3.461c.518 0 .766-.348.945-.667l3.734-6.609-2.378-4.155c-.172-.315-.434-.659-.962-.659H3.648v.016z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="whatsapp://send?text=%5bJava%20Deserialization%5d%20Th%e1%ba%a3o%20lu%e1%ba%adn%20v%e1%bb%81%20c%c6%a1%20ch%e1%ba%bf%20Serialize%20v%c3%a0%20Deserialize%20trong%20Java%20https%3a%2f%2ftranquac.github.io%2fposts%2f2022%2f01%2fjava-deserialization-th%25E1%25BA%25A3o-lu%25E1%25BA%25ADn-v%25E1%25BB%2581-c%25C6%25A1-ch%25E1%25BA%25BF-serialize-v%25C3%25A0-deserialize-trong-java%2f" target="_blank" rel="noopener" aria-label="" title="Share on whatsapp">
  <div class="resp-sharing-button resp-sharing-button--whatsapp resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2ftranquac.github.io%2fposts%2f2022%2f01%2fjava-deserialization-th%25E1%25BA%25A3o-lu%25E1%25BA%25ADn-v%25E1%25BB%2581-c%25C6%25A1-ch%25E1%25BA%25BF-serialize-v%25C3%25A0-deserialize-trong-java%2f&amp;t=%5bJava%20Deserialization%5d%20Th%e1%ba%a3o%20lu%e1%ba%adn%20v%e1%bb%81%20c%c6%a1%20ch%e1%ba%bf%20Serialize%20v%c3%a0%20Deserialize%20trong%20Java" target="_blank" rel="noopener" aria-label="" title="Share on hacker news">
  <div class="resp-sharing-button resp-sharing-button--hackernews resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M0 24V0h24v24H0zM6.951 5.896l4.112 7.708v5.064h1.583v-4.972l4.148-7.799h-1.749l-2.457 4.875c-.372.745-.688 1.434-.688 1.434s-.297-.708-.651-1.434L8.831 5.896h-1.88z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://telegram.me/share/url?text=%5bJava%20Deserialization%5d%20Th%e1%ba%a3o%20lu%e1%ba%adn%20v%e1%bb%81%20c%c6%a1%20ch%e1%ba%bf%20Serialize%20v%c3%a0%20Deserialize%20trong%20Java&amp;url=https%3a%2f%2ftranquac.github.io%2fposts%2f2022%2f01%2fjava-deserialization-th%25E1%25BA%25A3o-lu%25E1%25BA%25ADn-v%25E1%25BB%2581-c%25C6%25A1-ch%25E1%25BA%25BF-serialize-v%25C3%25A0-deserialize-trong-java%2f" target="_blank" rel="noopener" aria-label="" title="Share on telegram">
  <div class="resp-sharing-button resp-sharing-button--telegram resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
    </div>
  </div>
</a>

      </div>

    
    <div class="pagination">
        <div class="pagination__title">
            <span class="pagination__title-h"></span>
            <hr />
        </div>

        <div class="pagination__buttons">
            

            
            <span class="button next">
                <a href="https://tranquac.github.io/posts/2021/11/crossc2-generate-cobaltstrikes-cross-platform-payload/">
                    <span class="button__text">CrossC2 – Generate CobaltStrike’s Cross-Platform Payload</span>
                    <span class="button__icon">→</span>
                </a>
            </span>
            
        </div>
    </div>


    

    

  </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2022</span>
            <span><a href="https://tranquac.github.io">quac tran</a></span>
            <span><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></span>
            <span><a href="https://tranquac.github.io/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
            
        </div>
    </div>
    
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span><span>Made with &#10084; by <a href="https://github.com/tranquac">Quac Tran</a></span>
        </div>
    </div>
    
</footer>

            
        </div>

        



<script type="text/javascript" src="https://tranquac.github.io/bundle.min.599099f1f14b78b657d524b28e10e0c5098e7cd46e9c7aed73d577068a276c3ff1bb234cbf29cb313333e83cf411727b43157c91ce5b809e2ffc81664614608e.js" integrity="sha512-WZCZ8fFLeLZX1SSyjhDgxQmOfNRunHrtc9V3BoonbD/xuyNMvynLMTMz6Dz0EXJ7QxV8kc5bgJ4v/IFmRhRgjg=="></script>



    </body>
</html>
